<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#7ccbab"><meta name="author" content="Long Yu"><meta name="copyright" content="Long Yu"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>My Notes on CS61A | Long Yu's Space</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#7ccbab"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"reimirno.github.io","root":"/","title":["Long","Yu's","Space"],"version":"1.6.2","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"What is in your mind?","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","local_search":{"path":"/search.xml"},"fireworks":{"colors":["124, 203, 171","83, 161, 122","26, 77, 207","20, 115, 239"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css"><link rel="stylesheet" href="/css/admonition.css"><link rel="stylesheet" href="/css/iconstyle.css"><meta name="description" content="I take notes here when I learn CS61A: Structure and Interpretation of Computer Programs.">
<meta property="og:type" content="article">
<meta property="og:title" content="My Notes on CS61A">
<meta property="og:url" content="https://reimirno.github.io/2021/08/28/CS61A-Notes/index.html">
<meta property="og:site_name" content="Long Yu&#39;s Space">
<meta property="og:description" content="I take notes here when I learn CS61A: Structure and Interpretation of Computer Programs.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://reimirno.github.io/2021/08/28/CS61A-Notes/InverseCascade.png">
<meta property="article:published_time" content="2021-08-28T16:48:55.000Z">
<meta property="article:modified_time" content="2021-12-08T22:58:40.366Z">
<meta property="article:author" content="Long Yu">
<meta property="article:tag" content="Programming Principles">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://reimirno.github.io/2021/08/28/CS61A-Notes/InverseCascade.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Long Yu"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Long Yu"><span class="site-author-status" title="Give me the least, if not the one!">🥰</span></a><div class="site-author-name"><a href="/about/">Long Yu</a></div><a class="site-name" href="/about/site.html">Long Yu's Space</a><sub class="site-subtitle">Where All is Well</sub><div class="site-desciption">How's a day in Gensokyo like?</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">39</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">36</span></a></div><a class="site-state-item hty-icon-button" href="/random.html" title="Random Page"><span class="site-state-item-icon"><i class="ri-gift-line ri-xl"></i></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=1072625448&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="/images/wechatQR.jpg" title="Wechat" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:johnsonlongyu@gmail.com?subject=Directed%20from%20Blog%20-%20Subject%3A%20" title="E-Mail" target="_blank" style="color:#e28743"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Reimirno" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.linkedin.com/in/yu-long/" title="LinkedIn" target="_blank" style="color:#0077b5"><i class="ri-linkedin-box-line ri-xl"></i></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=296076115" title="Netease Music" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/436096130" title="Bilibili" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/169714437/" title="Douban" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/Johnsonlongyu" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.facebook.com/profile.php?id=100014142698530" title="Facebook" target="_blank" style="color:#4267B2"><i class="ri-facebook-box-line ri-xl"></i></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.instagram.com/reimirno/" title="Instagram" target="_blank" style="color:#c52262"><i class="ri-instagram-line ri-xl"></i></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/compass/" title="Compass" style="color:#eb664b"><i class="ri-compass-line ri-xl"></i></a><a class="links-item hty-icon-button" href="/resume/" title="Resume" style="color:#7ef578"><i class="ri-profile-line ri-xl"></i></a><a class="links-item hty-icon-button" href="/works/" title="Works" style="color:#dc7aff"><i class="ri-briefcase-line ri-xl"></i></a><a class="links-item hty-icon-button" href="/links/" title="Friends" style="color:#78acff"><i class="ri-links-line ri-xl"></i></a><a class="links-item hty-icon-button" href="/helps/" title="Help" style="color:#ffcf40"><i class="ri-question-line ri-xl"></i></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Language-Elements"><span class="toc-number">1.</span> <span class="toc-text">Language Elements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Environment-Diagram"><span class="toc-number">2.</span> <span class="toc-text">Environment Diagram</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-Do-It"><span class="toc-number">2.1.</span> <span class="toc-text">How to Do It?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Special-Cases"><span class="toc-number">2.2.</span> <span class="toc-text">Special Cases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Examples"><span class="toc-number">2.3.</span> <span class="toc-text">Examples</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function"><span class="toc-number">3.</span> <span class="toc-text">Function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-Nesting"><span class="toc-number">3.1.</span> <span class="toc-text">Why Nesting?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-Currying"><span class="toc-number">3.2.</span> <span class="toc-text">Function Currying</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Self-Reference"><span class="toc-number">3.3.</span> <span class="toc-text">Self-Reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Recursion"><span class="toc-number">3.4.</span> <span class="toc-text">Recursion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data-Abstraction"><span class="toc-number">4.</span> <span class="toc-text">Data Abstraction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Constructor-and-Selector"><span class="toc-number">4.1.</span> <span class="toc-text">Constructor and Selector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-Implement-Tree-and-Rationals"><span class="toc-number">4.2.</span> <span class="toc-text">Example: Implement Tree and Rationals</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://reimirno.github.io/2021/08/28/CS61A-Notes/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Long Yu"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Long Yu's Space"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">My Notes on CS61A</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-08-28 16:48:55" itemprop="dateCreated datePublished" datetime="2021-08-28T16:48:55+00:00">2021-08-28</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-12-08 22:58:40" itemprop="dateModified" datetime="2021-12-08T22:58:40+00:00">2021-12-08</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="Word count in article">1.4k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="Reading time">8m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Technical/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Technical</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Technical/Notes/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Notes</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Programming-Principles/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Programming Principles</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#7ccbab;"><link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>I take notes here when I learn CS61A: Structure and Interpretation of Computer Programs.</p>
<span id="more"></span>

<h2 id="Language-Elements"><a href="#Language-Elements" class="headerlink" title="Language Elements"></a>Language Elements</h2><ul>
<li>Expression: Describes a computation and evaluates to a value.<ul>
<li>Primitive expression: a single evaluation step - look up the value of a name or take the literal value. For example, <code>2</code>, <code>max</code>, <code>&quot;Hello!&quot;</code>.</li>
<li>Call (compound) expression: expression that involve a call to some function.</li>
</ul>
</li>
<li>Statement: Execute some action.<ul>
<li>Simple statement: one line, one action. Like <code>=</code> assignment, <code>return</code>, etc.</li>
<li>Compound statement: a statement composed of other statements, like <code>def</code>, <code>if</code> etc.<blockquote><p>  Compound statements typically span multiple lines and start with a one-line header ending in a colon, which identifies the type of statement. Together, a header and an indented suite of statements is called a clause (header + suite = clause). A compound statement consists of one or more clauses:</p>
<pre class="language-py" data-language="py"><code class="language-py">&lt;header&gt;:
  &lt;statement&gt;
  &lt;statement&gt;
  ...
&lt;separating header&gt;:
  &lt;statement&gt;
  &lt;statement&gt;
  ...
...</code></pre><footer><strong>John DeNero, Composing Programs</strong><cite><a target="_blank" rel="noopener" href="http://composingprograms.com/pages/15-control.html">Chapter 1.5 Control</a></cite></footer></blockquote></li>
</ul>
</li>
<li>Language Elements<ul>
<li>primitive expressions and statements, which represent the simplest building blocks that the language provides</li>
<li>means of combination, by which compound elements are built from simpler ones</li>
<li>means of abstraction, by which compound elements can be named and manipulated as units</li>
</ul>
</li>
<li>Function type<ul>
<li>Pure function: Only produces a return value, always evaluates to the same results given the same argument values.</li>
<li>Non-pure function: may produce side effects, may evaluates to different results given the same inputs, and may change the environment (print in console, render an image etc.) <code>print</code> is a non-pure function.</li>
</ul>
</li>
<li>Evaluation Order<ul>
<li>Normal order: evaluate leftmost, outmost functions first (evaluate function before its argument) may result in doing extra work by requiring function arguments to be evaluated more than once</li>
<li>Applicative order: evaluate function arguments before this function is applied; may result in programs that do not terminate</li>
<li>In practice, most functional programming languages uses lazy evaluation. With lazy evaluation, we evaluate a value when it is needed, and after evaluation all copies of that expression are updated with the new value. In effect, a parameter passed into a function is stored in a single location in memory so that the parameter need only be evaluated once. That is, we remember all the locations where we a certain argument will be used, and when we evaluate a function, we replace the argument with the value.</li>
<li>Importantly, in Python (and many other languages), the arguments of functions are evaluated first before being passed into the function. Compare:<pre class="language-py" data-language="py"><code class="language-py"># This prints 0
x &#x3D; 0
if x &#x3D;&#x3D; 0:
  print(0)
else
  print(1&#x2F;x)
# This results in an error
def if_func(cond, true_rlt, false_rlt):
  if cond:
    print true_rlt
  else
    print false_rlt
if_func(x, 0, 1&#x2F;x)</code></pre></li>
<li><a target="_blank" rel="noopener" href="https://inst.eecs.berkeley.edu/~cs61a/fa11/61a-python/content/section_notes/week3/notes03_sol.pdf">Expression Tree</a></li>
</ul>
</li>
<li>First-class element<blockquote><p>In general, programming languages impose restrictions on the ways in which computational elements can be manipulated. Elements with the fewest restrictions are said to have first-class status. Some of the “rights and privileges” of first-class elements are:</p>
<ul>
<li>They may be bound to names.</li>
<li>They may be passed as arguments to functions.</li>
<li>They may be returned as the results of functions.</li>
<li>They may be included in data structures.<br>Python awards functions full first-class status, and the resulting gain in expressive power is enormous.</li>
</ul>
<footer><strong>John DeNero, Composing Programs</strong><cite><a target="_blank" rel="noopener" href="http://composingprograms.com/pages/15-control.html">Chapter 1.5 Control</a></cite></footer></blockquote></li>
</ul>
<h2 id="Environment-Diagram"><a href="#Environment-Diagram" class="headerlink" title="Environment Diagram"></a><a target="_blank" rel="noopener" href="https://cs61a.org/lab/lab02/">Environment Diagram</a></h2><h3 id="How-to-Do-It"><a href="#How-to-Do-It" class="headerlink" title="How to Do It?"></a>How to Do It?</h3><ul>
<li>Start with the global diagram and work line by line</li>
<li>Constants: (numbers, strings, etc), they are self-evaluating so don’t do any work.</li>
<li>Assignment (<code>=</code>,<code>def</code> or <code>import</code> a function):<ul>
<li>Primitives: evaluates the assigned value creates a binding between the name and the value in the current frame.</li>
<li>Objects (including functions)<ol>
<li>Draw an binding arrow from the name in the current frame pointing to the value. The value, for function, is the function signature (e.g., for functions defined with <code>def</code> use <code>func &lt;name&gt;(&lt;formal parameters&gt;) [parent = &lt;label&gt;]</code>)</li>
<li>Specify the parent frame in Rectangular bracket besides the function signature.</li>
<li>If two names are associated to the same object - make sure do not make a new copy of the object; instead, let both of the names point to the same object.</li>
</ol>
</li>
</ul>
</li>
<li>Call expression (skip this for built-in functions like <code>max</code>)<ol>
<li>Creates a new frame that extends the current frame. Draw a new box, name it with the original function name (no matter what name it currently is referred to).</li>
<li>Indicate its parent in the rectangular bracket. (The parent is always where the function is defined.)</li>
<li>Create binding for passed in parameters (See the assignment section above).</li>
<li>Work through each lines of the function, working in the new local frame.</li>
<li>Indicate the return value, even it is <code>None</code>. All non-global frames should have a return value indicated.</li>
</ol>
</li>
<li>List: represented on the object heap as a row of indexed boxes - one box per element<ul>
<li>each box contains either a primitive value, or points to a compound value/function/object</li>
</ul>
</li>
</ul>
<h3 id="Special-Cases"><a href="#Special-Cases" class="headerlink" title="Special Cases"></a>Special Cases</h3><ul>
<li>Nested Functions<ul>
<li>Remember, if a function is defined in another function, then its parent frame should be that function’s frame, not global. The parent is always where the function is defined.</li>
<li>Follow the evaluation order. Once the function is done, go back to the frame from which you made the function call.</li>
</ul>
</li>
<li>Lambda<ul>
<li>Use a Greek letter λ as function name and annotates it line number when presenting it in the object pile.</li>
<li>Assigning a lambda to a variable is simply giving the lambda an alias. It does not give it an intrinsic name. So, when called, the frame this lambda created would be known as λ, not that variable name; the parent of the frame is also the frame where this lambda is defined, not where it is assigned to a variable.</li>
</ul>
</li>
</ul>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><ul>
<li>Calling a lambda with a given name.</li>
</ul>
<iframe width="800" height="350" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=n%20%3D%209%0Adef%20make_adder%28n%29%3A%0A%20%20%20%20return%20lambda%20k%3A%20k%20%2B%20n%0Aadd_ten%20%3D%20make_adder%28n%2B1%29%0Aresult%20%3D%20add_ten%28n%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=10&origin=composingprograms.js&py=3&rawInputLstJSON=%5B%5D"> </iframe>

<ul>
<li>Defining and calling a usual function.</li>
</ul>
<iframe width="800" height="350" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=a%20%3D%203%0Adef%20square%28x%29%3A%0A%20%20%20%20y%20%3D%20x%20**%202%0A%20%20%20%20return%20y%0Aa2%20%3D%20square%28a%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=7&heapPrimitives=true&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

<ul>
<li>Defining and chaining-calling a function that returns itself.</li>
</ul>
<iframe width="800" height="550" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=def%20print_all%28x%29%3A%0A%20%20%20%20print%28x,%20end%3D%20%22%20%22%29%0A%20%20%20%20return%20print_all%0A%0Aprint_all%281%29%282%29%283%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=14&heapPrimitives=true&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

<ul>
<li>Defining and chaining-calling a nested function that, along with its parent, return each other.</li>
</ul>
<iframe width="800" height="850" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=def%20sum_and_print%28x%29%3A%0A%20%20%20%20print%28x,%20end%20%3D%20%22%20%22%29%0A%20%20%20%20def%20next_print_maker%28y%29%3A%0A%20%20%20%20%20%20%20%20return%20sum_and_print%28x%20%2B%20y%29%0A%20%20%20%20return%20next_print_maker%0A%0Asum_and_print%283%29%284%29%285%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=23&heapPrimitives=true&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

<ul>
<li>Calling a Curried Function</li>
</ul>
<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=def%20curry2%28h%29%3A%0A%20%20%20%20def%20f%28x%29%3A%0A%20%20%20%20%20%20%20%20def%20g%28y%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20h%28x,%20y%29%0A%20%20%20%20%20%20%20%20return%20g%0A%20%20%20%20return%20f%0A%0Amake_adder%20%3D%20curry2%28lambda%20x,%20y%3A%20x%20%2B%20y%29%0Aadd_three%20%3D%20make_adder%283%29%0Aadd_four%20%3D%20make_adder%284%29%0Afive%20%3D%20add_three%282%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=23&heapPrimitives=false&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

<ul>
<li>List</li>
</ul>
<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=pair%20%3D%20%5B1,%202,%203,%204,%205%5D%0A%0Anested_list%20%3D%20%5B%200,%20%5B1,%202%5D,%20%5B%5D,%0A%20%20%20%20%5B%20%5B3,%20False,%20None%5D,%0A%20%20%20%20%20%20%5B4,%20lambda%3A%205%5D%20%5D%0A%20%20%20%20%5D%0A%0Aslice1%20%3D%20pair%5B1%3A3%5D%0Aslice2%20%3D%20pair%5B1%3A%3A2%5D%0Aslice3%20%3D%20pair%5B1%3A-1%5D%0A%0Amystr%20%3D%20%22hello%22%0Aslice4%20%3D%20mystr%5B2%3A%3A2%5D%0Aslice5%20%3D%20mystr%5B%3A%3A-1%5D%0A&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=10&origin=composingprograms.js&py=3&rawInputLstJSON=%5B%5D"> </iframe>

<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><ul>
<li>In Python, function is a first class element.</li>
<li>Higher-order functions are those that return or take in as argument(s) other functions, or both.</li>
<li>Utilize higher-order functions can reduce code repetition (think about the calculate area example).</li>
</ul>
<h3 id="Why-Nesting"><a href="#Why-Nesting" class="headerlink" title="Why Nesting?"></a>Why Nesting?</h3><ul>
<li>The concept of private functions - some small functions are never used in other places other than as a helper for a bigger function. These functions should be nested - to reduce name collision, to be more elegant etc.</li>
<li>Some helper function needs to have access to variables in its main function - then this helper should be nested to access the variables instead of passing the variable by argument into the helper.</li>
<li>Great example at <a target="_blank" rel="noopener" href="http://composingprograms.com/pages/16-higher-order-functions.html">DeNero 1.6.3</a></li>
</ul>
<h3 id="Function-Currying"><a href="#Function-Currying" class="headerlink" title="Function Currying"></a><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Currying">Function Currying</a></h3><p>Currying is the practice of transforming a multi-argument function into a single higher-order function.</p>
<pre class="language-py" data-language="py"><code class="language-py">from operator import add

def curry2(f):
  def g(x):
    def h(y):
      return f(x,y)
    return h
  return g
# Alternative way using lambda
curry2_alt &#x3D; lambda f: lambda x: lambda y: f(x, y)

adder_maker &#x3D; curry2(add)
three_adder &#x3D; adder_maker(3)

add(3,4) #7
three_adder(4) #7
curry2(add)(3)(4) #7

print(three_adder) # &lt;function h&gt;

# Usually this is simply done via functools
import functools
four_adder &#x3D; functools.partial(add, 4)
four_adder(5) # 9</code></pre>

<h3 id="Self-Reference"><a href="#Self-Reference" class="headerlink" title="Self-Reference"></a>Self-Reference</h3><h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><ul>
<li>Call order in recursion. Here is a beautifully constructed example:</li>
</ul>
<img src="InverseCascade.png" alt="A Picture Showing the Inverse Cascade Algorithm" loading="lazy">

<ul>
<li><p>Relation between recursion and iteration:</p>
<ul>
<li>Iteration is a special case of recursion.</li>
<li>Conversion can be tricky.<ul>
<li>Recursive algorithms conserve and pass on the state of last loop by arguments, and update them by calling the function with the new arguments again.</li>
<li>Iterative algorithms conserve and the state of last loop in variables, and update them by running a while loop.</li>
</ul>
</li>
</ul>
</li>
<li><p>Some variants of recursion</p>
<ul>
<li>Mutual recursion: when two functions calls each other.</li>
<li>Tree recursion: when a function calls itself more than one time.</li>
</ul>
</li>
<li><p>Recursion equation - when order does and does not matter:</p>
<ul>
<li>Partition model: when order does not matter. In this case, <code>f(n,k) = f(n-k,k) + f(n,k-1)</code>.</li>
<li>Stairway model: when order does matter. In this case, <code>g(n,k)=g(n-1,k)+g(n-2,k)...+g(n-k,k)</code>.</li>
</ul>
</li>
<li><p>Recursion on different data types</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Type</th>
<th align="center">Base Case</th>
<th align="center">Current Item</th>
<th align="center">Recursive Case</th>
</tr>
</thead>
<tbody><tr>
<td align="center">int</td>
<td align="center"><code>== 0</code>, <code>== 1</code></td>
<td align="center"><code>n % 10</code></td>
<td align="center"><code>n // 10</code></td>
</tr>
<tr>
<td align="center">list</td>
<td align="center"><code>== []</code></td>
<td align="center"><code>li[0]</code></td>
<td align="center"><code>li[1:]</code>,<code>li[:-1]</code></td>
</tr>
<tr>
<td align="center">str</td>
<td align="center"><code>==&#39; &#39;</code>, <code>len(s) == 1</code></td>
<td align="center"><code>s[0]</code></td>
<td align="center"><code>s[1:]</code>,<code>s[:-1]</code></td>
</tr>
<tr>
<td align="center">Tree</td>
<td align="center"><code>t.is_leaf()</code></td>
<td align="center"><code>t.label</code></td>
<td align="center"><code>t.branches</code></td>
</tr>
<tr>
<td align="center">Link</td>
<td align="center"><code>t == Link.empty</code></td>
<td align="center"><code>t.first</code></td>
<td align="center"><code>t.rest</code></td>
</tr>
</tbody></table>
<h2 id="Data-Abstraction"><a href="#Data-Abstraction" class="headerlink" title="Data Abstraction"></a>Data Abstraction</h2><h3 id="Constructor-and-Selector"><a href="#Constructor-and-Selector" class="headerlink" title="Constructor and Selector"></a>Constructor and Selector</h3><h3 id="Example-Implement-Tree-and-Rationals"><a href="#Example-Implement-Tree-and-Rationals" class="headerlink" title="Example: Implement Tree and Rationals"></a>Example: Implement Tree and Rationals</h3></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Long Yu</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://reimirno.github.io/2021/08/28/CS61A-Notes/" title="My Notes on CS61A">https://reimirno.github.io/2021/08/28/CS61A-Notes/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul><script>document.addEventListener('copy', function (event) {
  const clipboardData = event.clipboardData || window.clipboardData;
  if (!clipboardData) { return; }
  const text = window.getSelection().toString();
  if (text) {
    event.preventDefault();
    clipboardData.setData('text/plain', text + '\n\nPost author: Long Yu\nPost link: https://reimirno.github.io/2021/08/28/CS61A-Notes/\nCopyright Notice: All articles in this blog are licensed under CC BY-NC-SA 4.0 unless otherwise stated.');
  }
});</script></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/08/29/TBC2-Memorial/" rel="prev" title="Touhou Blooming Chaos 2 - A Memorial"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Touhou Blooming Chaos 2 - A Memorial</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/08/25/R-Collections/" rel="next" title="My Notes on R"><span class="post-nav-text">My Notes on R</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>Say something?</span><br><a class="hty-button hty-button--raised" id="github-discussions" target="_blank" rel="noopener" href="https://github.com/Reimirno/reimirno.github.io/discussions/new">GitHub Discussions</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 – 2023 </span><a class="with-love" id="animate" href="/thanks/" title="Thank-you page"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author"> Long Yu</span></div><div class="live_time"><span>The blog has run for</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-31T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="Total Visitors"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="Total Views"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#7ccbab" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="What is in your mind?" value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/js/index.js"></script><!-- hexo injector body_end end --></body></html>